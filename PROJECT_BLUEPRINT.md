# NorCal SBDC Capital Readiness Tool
## Product & Architecture Blueprint

This document outlines the strategic goals, UX/UI design logic, and technical architecture of the NorCal SBDC Capital Readiness Tool. It serves as a comprehensive guide for engineering and design teams to understand, maintain, and scale the application.

---

## 1. Executive Summary & Goals

**The Problem:** SBDC advisors spend countless hours manually matching small business clients with appropriate lenders, researching underwriting criteria, and drafting pitch emails. 
**The Solution:** An AI-powered, centralized platform that acts as a "co-pilot" for capital advisors. 

**Primary Goals:**
1. **Centralize Knowledge:** Provide a single, searchable source of truth for regional lender data, underwriting criteria, and loan products.
2. **Accelerate Matching:** Use AI to analyze a client's profile against the database to instantly recommend the highest-probability lender matches.
3. **Streamline Outreach:** Generate highly customized "Banker Pitch Emails" with a single click.
4. **Premium Experience:** Deliver a world-class, intuitive UX that feels like a $90k enterprise SaaS product, minimizing cognitive load for the advisors.

---

## 2. UX/UI Design Philosophy

The application was designed with a "minimalist, high-density" approach. We intentionally moved away from deeply nested containers and heavy card layouts in favor of clean lines, ample whitespace, and strict typographic hierarchy.

### Core Design Principles
* **Master-Detail Layout (The Directory):** Instead of a traditional grid that forces users to click back and forth between list and detail pages, we implemented a split-pane Master-Detail view. The left column maintains the search context, while the right column provides deep-dive information.
* **Progressive Disclosure:** Information is revealed as needed. For example, the "Quick Pitch" tool is housed directly inside the lender detail pane, contextualizing the action.
* **Floating & Minimal Inputs:** Forms use a custom `MinimalInput` component featuring subtle borders (`border-slate-100`), soft backgrounds (`bg-slate-50/50`), and micro-typography for labels (`text-[11px] uppercase tracking-widest`). This reduces visual clutter compared to traditional heavy form fields.
* **Color Palette:** Grounded in professional slates (`slate-900` for primary text, `slate-500` for secondary), with vibrant, trustworthy blues (`blue-600`) reserved strictly for primary actions and AI-driven features.
* **Micro-Interactions:** Subtle hover states (`hover:-translate-y-1`, `hover:scale-[1.02]`) and smooth layout transitions (via `framer-motion`) make the app feel responsive and "alive."

---

## 3. Core Features & User Flows

### A. Lender Directory (Master-Detail View)
* **Left Pane (List):** A highly optimized, scrollable list of lenders. Features real-time filtering by category and a unified search bar that intelligently parses text and **Zip Codes** (mapping them to NorCal regions like "Bay Area" or "Sacramento").
* **Right Pane (Detail):** Displays comprehensive underwriting criteria, geographic focus, and loan products.
* **Bookmarking:** Advisors can "Star" lenders to save them to a shortlist (persisted via `localStorage`).

### B. Capital Assessment Engine
* **The Input:** A streamlined 1-column form capturing the client's financial profile (Revenue, Time in Business, FICO, Loan Amount).
* **AI Website Scanner:** Advisors can input a client's URL. The system uses the Gemini API (`urlContext` tool) to scrape the site and auto-generate a concise business narrative, saving typing time.
* **The Output:** A comprehensive, Markdown-formatted report generated by Gemini. The AI acts as a senior underwriter, comparing the client data against the JSON database of lenders, explaining *why* a match makes sense, and outlining next steps/hurdles.

### C. Quick Pitch Generator
* Located inside the Lender Detail pane.
* Takes minimal client data and merges it with the specific lender's target profile to draft a highly persuasive, customized email to the banker.

### D. Analytics Portal
* A password-protected dashboard (`Bingbang555`) that tracks tool usage (Assessments Run, Emails Drafted) to help leadership measure ROI.

---

## 4. Technical Architecture

### Tech Stack
* **Framework:** React 18 + TypeScript + Vite
* **Styling:** Tailwind CSS (Utility-first, highly customized via arbitrary values and custom components)
* **Icons:** Lucide React
* **Animation:** Framer Motion (`motion/react`)
* **AI Integration:** `@google/genai` (Gemini 3 Flash Preview)
* **Markdown Rendering:** `react-markdown` with `remark-gfm`

### State Management & Data Flow
* **Local State:** React `useState` manages active views, form data, and UI toggles.
* **Derived State:** `useMemo` is heavily utilized for the search and filter logic in the directory to ensure 60fps performance even as the lender database grows.
* **Persistence:** `localStorage` is used for lightweight persistence of Bookmarked Lenders and Analytics counters.
* **Lender Data:** Currently stored as a static JSON array in `App.tsx`. *Note for Dev Team: This is primed to be extracted into a separate `data.ts` file or fetched from a headless CMS/Database (like Supabase or Firebase) in the next iteration.*

### AI Prompt Engineering
The system relies on highly structured prompts sent to the Gemini API. 
* **Context Injection:** The entire `lenderData` JSON is injected into the Assessment prompt so the AI has strict boundaries on who it can recommend.
* **Formatting:** The AI is instructed to return clean Markdown, which is safely rendered on the frontend.

---

## 5. Future Roadmap for Dev & UX Teams

If you are taking over this codebase, here are the recommended next steps for scaling:

1. **Database Migration:** Move the `lenderData` array to a real backend (e.g., PostgreSQL via Supabase) to allow non-technical staff to add/edit lenders without touching code.
2. **Authentication:** Replace the hardcoded Analytics password with real OAuth (e.g., Google Workspace SSO for SBDC advisors).
3. **PDF Export:** Enhance the "Print" functionality on the Assessment report to generate a beautifully styled, branded PDF using a library like `react-pdf`.
4. **CRM Integration:** Add a "Push to CRM" button that sends the generated assessment and client profile directly to Neoserra or Salesforce via API.
